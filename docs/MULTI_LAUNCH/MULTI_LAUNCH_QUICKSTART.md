# 多开启动功能 - 快速开始指南

## 🚀 快速开始（3步）

### 1️⃣ 准备配置
确保你已经创建了至少**2个配置**。如果还没有，请先：
- 在主菜单选择 `[B]` 配置管理
- 选择 `[A]` 自动检索或 `[B]` 手动配置
- 创建多个配置

### 2️⃣ 启动多开
在主菜单选择：
```
[A2] 多开启动（同时启动多个Bot）
```

### 3️⃣ 选择实例并启动
- 选择要启动的配置（例如: `1,2,3`）
- 确认显示的端口分配
- 按下确认，系统自动启动所有实例

## 📋 具体步骤

### 从主菜单启动

```
麦麦核心启动器控制台
================
====>>启动类<<====
[A] 🚀 运行麦麦
[A2] 🚀 多开启动（同时启动多个Bot）   ← 选择这里
```

### 多开菜单界面

```
[🚀 多开启动助手]
==================================================
[可用配置列表]
[1] config_01: 官服Bot (版本: 0.7.0, 类型: MaiBot)
[2] config_02: 测试Bot (版本: 0.7.0, 类型: MaiBot)
[3] config_03: 备用Bot (版本: 0.6.5, 类型: MaiBot)

请选择要多开的配置 (使用逗号','分隔，例如: 1,2,3):
> 1,2    ← 输入配置编号
```

### 端口分配确认

```
[多开配置确认]
  • config_01: 端口 8000
  • config_02: 端口 8010

确认要以上述配置进行多开启动吗？ (Y/n):
> y    ← 确认启动
```

### 启动过程

```
🚀 开始多开启动流程...

正在准备启动实例: config_01 (端口: 8000)
启动实例 config_01 的组件...
✅ 实例 config_01 启动成功

正在准备启动实例: config_02 (端口: 8010)
启动实例 config_02 的组件...
✅ 实例 config_02 启动成功

==================================================
🎉 成功启动 2 个实例:
  • config_01
  • config_02
✅ 所有实例启动完成！
```

## 🎯 常见场景

### 场景1: 启动官服和测试Bot

```
选择配置: 1,2
config_01 → 8000
config_02 → 8010
结果: 两个Bot同时运行，互不干扰
```

### 场景2: 启动多个不同版本

```
选择配置: 1,2,3
config_01 (v0.7.0) → 8000
config_02 (v0.7.0) → 8010
config_03 (v0.6.5) → 8020
结果: 三个不同版本的Bot同时运行
```

### 场景3: 启动不同类型的Bot

```
选择配置: 1,2
MaiBot (config_01) → 8000
MoFox_bot (config_02) → 8010
结果: 不同类型的Bot同时运行
```

## ⚙️ 系统自动做什么

当你启动多开时，系统会自动：

1. **检测端口** 🔍
   - 扫描系统已占用的端口
   - 找到可用的端口范围

2. **分配端口** 🎯
   - 为每个实例分配唯一的端口
   - 避免端口冲突

3. **修改配置** 📝
   - 自动修改Bot配置文件
   - 更新端口号以匹配分配的端口

4. **启动实例** 🚀
   - 为每个实例启动所有必要组件
   - 记录启动状态和错误信息

## 💡 提示

### ✅ 最佳实践
- 为不同的Bot使用不同的配置
- 每个配置使用不同的QQ号
- 为每个实例分配足够的磁盘空间
- 定期检查进程状态

### ⚠️ 注意事项
- 多开会消耗更多系统资源
- 确保有足够的内存（建议4GB+）
- 避免同时运行过多实例（建议4-8个）
- 确保所有配置都是有效的

### 🔧 故障排查
如果启动失败，请：
1. 检查配置是否完整
2. 查看日志文件（`logs/`目录）
3. 确保Bot路径正确
4. 尝试减少实例数量

## 📊 状态检查

启动后可以在主菜单选择：
```
[G] 📊 查看运行状态
```

查看：
- 所有运行中的实例
- 每个实例的CPU和内存占用
- 运行时间
- 可以停止或重启单个实例

## 🛑 停止实例

### 单个停止
在进程管理界面：
```
> stop <PID>
```

### 全部停止
```
> stopall
```

### 退出时的处理
程序会询问：
```
退出启动器时要如何处理这些进程？
[K]保留 [T]关闭 [C]取消退出:
```

## 📚 更多帮助

- 📖 详细指南: `docs/MULTI_LAUNCH_GUIDE.md`
- 💻 技术文档: `docs/MULTI_LAUNCH_IMPLEMENTATION.md`
- 🧪 测试脚本: `一些神神秘秘的素材/test_multi_launch.py`
- 🤝 社区支持: QQ群 1025509724

## 🎓 学习资源

### 视频教程 (待补充)
- 多开启动基础
- 高级配置技巧

### FAQ (待补充)
- 常见问题解答

---

**现在就开始多开你的Bot吧！** 🎉
